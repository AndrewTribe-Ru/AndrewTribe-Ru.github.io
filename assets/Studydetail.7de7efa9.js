import{Q as A}from"./QPage.70219a20.js";import{Q as D}from"./QCard.80b35fcd.js";import{b as M,a as Y,Q as $}from"./QItem.e67408f3.js";import{a as F,R as O,Q as U}from"./QBtn.dab5c315.js";import{u as H,a as K}from"./use-dark.b138e361.js";import{k as y,g as Z,h as G,i as J,r as Q,j as g,Z as I,l as W,z as N,o as r,a5 as b,a,d as q,c as w,w as o,a7 as C,a6 as j,a9 as P,u as X,E as ee,e as T,a4 as R,y as ae}from"./index.17a483d5.js";import{o as te,c as le}from"./use-checkbox.a57d7868.js";import{u as oe,b as se}from"./use-form.e660d19e.js";import{a as ne,h as re}from"./render.c21811ee.js";import{Q as _,a as ie}from"./QSkeleton.64a7694d.js";import{Q as de}from"./QList.dfe8eab7.js";import{u as ue}from"./useAxios.ef0e9d3f.js";import"./axios.6e1fcf85.js";const ce=y("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[y("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),y("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var me=Z({name:"QRadio",props:{...H,...G,...oe,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:d,emit:S}){const{proxy:p}=W(),f=K(e,p.$q),x=J(e,te),k=Q(null),{refocusTargetEl:V,refocusTarget:L}=le(e,k),c=g(()=>I(e.modelValue)===I(e.val)),i=g(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(f.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),v=g(()=>{const t=e.color!==void 0&&(e.keepColor===!0||c.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${c.value===!0?"truthy":"falsy"}${t}`}),l=g(()=>(c.value===!0?e.checkedIcon:e.uncheckedIcon)||null),n=g(()=>e.disable===!0?-1:e.tabindex||0),u=g(()=>{const t={type:"radio"};return e.name!==void 0&&Object.assign(t,{".checked":c.value===!0,"^checked":c.value===!0?"checked":void 0,name:e.name,value:e.val}),t}),s=se(u);function m(t){t!==void 0&&(N(t),L(t)),e.disable!==!0&&c.value!==!0&&S("update:modelValue",e.val,t)}function h(t){(t.keyCode===13||t.keyCode===32)&&N(t)}function E(t){(t.keyCode===13||t.keyCode===32)&&m(t)}return Object.assign(p,{set:m}),()=>{const t=l.value!==null?[y("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[y(F,{class:"q-radio__icon",name:l.value})])]:[ce];e.disable!==!0&&s(t,"unshift"," q-radio__native q-ma-none q-pa-none");const B=[y("div",{class:v.value,style:x.value,"aria-hidden":"true"},t)];V.value!==null&&B.push(V.value);const z=e.label!==void 0?ne(d.default,[e.label]):re(d.default);return z!==void 0&&B.push(y("div",{class:"q-radio__label q-anchor--skip"},z)),y("div",{ref:k,class:i.value,tabindex:n.value,role:"radio","aria-label":e.label,"aria-checked":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:m,onKeydown:h,onKeyup:E},B)}}});const fe={class:"q-pa-md"},ve={key:0,style:{"max-width":"1500px",width:"700px"}},he={class:"row items-start no-wrap q-mt-sm"},_e={class:"col q-pl-sm"},ye={__name:"SkeletonCmm",props:{type:{type:String,required:!0}},setup(e){const d=e;return(S,p)=>(r(),b("div",fe,[d.type=="detail"?(r(),b("div",ve,[a(_,{height:"170px",square:"",animation:"fade"}),q("div",he,[a(_,{size:"56px",square:"",animation:"fade"}),q("div",_e,[a(_,{type:"text",square:"",width:"30%",animation:"fade"}),a(_,{type:"text",square:"",height:"12px",animation:"fade"}),a(_,{type:"text",square:"",height:"12px",width:"75%",animation:"fade"})])])])):d.type=="list"?(r(),w(D,{key:1},{default:o(()=>[(r(),b(C,null,j(10,(f,x)=>a(M,{style:{"max-width":"300px"},key:x},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(_,{type:"QAvatar"})]),_:1}),a(Y,null,{default:o(()=>[a($,null,{default:o(()=>[a(_,{type:"text"})]),_:1}),a($,{caption:""},{default:o(()=>[a(_,{type:"text",width:"65%"})]),_:1})]),_:1})]),_:2},1024)),64))]),_:1})):P("",!0)]))}},pe={class:"flex flex-center"},be={id:"wrapper",style:{"max-width":"500px",width:"100%",height:"300px",border:"1px solid"}},xe=["src","title"],ke=["innerHTML"],je={__name:"Studydetail",setup(e){const d=Q(!0),S=X(),{dataObj:p}=history.state,f=Q(),x=Q(!1),k=Q([]);ee(async()=>{if(typeof p!="object"||!p)S.go(-1);else{let i={contentsSeq:p.contentsSeq};V(i)}});const V=async i=>{await L(i.contentsSeq)},L=async i=>{d.value=!0,await ue(`/api/zion/rus/fo/contents/stdy/detail/${i}`,{method:"get"}).then(async v=>{const l=v.data,n=l.body.body;if(f.value={...n},l.header.code=="I001"){d.value=!1,l.body.list.length>0&&l.body.list.forEach(h=>{h.mltpYn==="Y"?h.answer=[]:h.answer={},k.value.push(h)}),await S.isReady();const s=document.querySelector("iframe"),m=new Vimeo.Player(s);var u=n.qtnAlertTime;m.on("timeupdate",function(h){h.seconds>u&&(x.value=!0)})}}).finally(()=>{d.value=!1})},c=()=>{let i="Y";k.value.forEach(v=>{if(v.mltpYn=="Y"){let n=[...v.answer];n=n.sort();let u=v.qtnDetailList.filter(s=>s.answerYn=="Y").map(s=>s.qtnSeq).sort();console.log("answers : ",u),console.log("selected : ",n);for(let s=0;s<n.length;s++)n[s]!==u[s]&&(i="N")}}),console.log("correctYn : ",i)};return(i,v)=>d.value?(r(),w(A,{key:0,class:"flex flex-center"},{default:o(()=>[a(ye,{type:"detail"})]),_:1})):(r(),w(A,{key:1,class:"column"},{default:o(()=>[a(D,{class:"flex flex-center text-center q-ma-lg",style:{height:"50px"}},{default:o(()=>[T(R(f.value.title),1)]),_:1}),q("div",pe,[q("div",be,[q("iframe",{src:f.value.url,frameborder:"0",style:{width:"100%",height:"100%"},title:f.value.title},`\r
        `,8,xe)])]),q("div",{class:"flex flex-center q-ma-xl",innerHTML:f.value.detail},null,8,ke),x.value?P("",!0):(r(),b(C,{key:0},[(r(!0),b(C,null,j(k.value,(l,n)=>(r(),b("div",{class:"flex flex-center q-mb-xl",key:n},[a(de,{bordered:"",padding:""},{default:o(()=>[a($,{header:""},{default:o(()=>[T(R(`${n+1}.${l.qtnTitle}`),1)]),_:2},1024),(r(!0),b(C,null,j(l.qtnDetailList,(u,s)=>ae((r(),w(M,{tag:"label",key:s},{default:o(()=>[a(Y,{side:"",top:""},{default:o(()=>[l.mltpYn=="N"?(r(),w(me,{key:0,modelValue:l.answer,"onUpdate:modelValue":m=>l.answer=m,val:u.qtnSeq},null,8,["modelValue","onUpdate:modelValue","val"])):(r(),w(ie,{key:1,modelValue:l.answer,"onUpdate:modelValue":m=>l.answer=m,val:u.qtnSeq},null,8,["modelValue","onUpdate:modelValue","val"]))]),_:2},1024),a(Y,null,{default:o(()=>[a($,null,{default:o(()=>[T(R(u.qtnItemTitle),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[O]])),128))]),_:2},1024)]))),128)),a(U,{class:"",label:"\uC81C\uCD9C",size:"medium",onClick:c})],64))]),_:1}))}};export{je as default};
