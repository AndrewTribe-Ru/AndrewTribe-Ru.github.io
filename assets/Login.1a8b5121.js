import{Q as y,a as b,b as m,c as I}from"./QLayout.58adfbe3.js";import{Q as f}from"./QBtn.4e786373.js";import{d as v,u as C,c as w,r as p,o as V,e as h,w as l,f as o,g as n,h as c,i as g,j as k}from"./index.9377f914.js";const Q=v("user",{state:()=>({userInfo:{id:"",pw:"",role:""}}),actions:{setUserInfo(i){this.userInfo={},this.userInfo=i}},persist:{enabled:!0,strategies:[{key:"user",storage:localStorage}]}}),S={class:"q-pa-md flex flex-center column",style:{"max-width":"300px","text-align":"center"}},N={class:"q-gutter-y-md column",style:{"max-width":"300px"}},A={__name:"Login",setup(i){const s=C();Q();const x=w(),u=p(""),r=p(""),d=async()=>{k.post("/login",{mbrId:u.value,mbrPw:r.value}).then(t=>{console.log("login success : ",t);const{code:e}=t.data;if(e==200){const a=t.data.Authorization;a?(s.saveToken(a),s.saveUserInfo({mbrId:t.data.mbrId,courseCd:t.data.courseCd,mbrName:t.data.mbrName,msgrTypeCd:t.data.msgrTypeCd,authCd:t.data.authCd}),x.push("/index")):s.loginFailure()}else s.loginFailure()})};return(t,e)=>(V(),h(y,null,{default:l(()=>[o(I,null,{default:l(()=>[o(b,{class:"q-pa-xl flex flex-center"},{default:l(()=>[e[5]||(e[5]=n("section",{class:"q-mb-xl"},null,-1)),n("div",S,[e[4]||(e[4]=n("h6",null,"\uC548\uB155\uD558\uC138\uC694!",-1)),n("div",N,[o(m,{label:"ID",filled:"",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),onKeyup:c(d,["enter"])},null,8,["modelValue"]),o(m,{label:"PASSWORD",filled:"",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),type:"password",onKeyup:c(d,["enter"])},null,8,["modelValue"]),o(f,{color:"primary",onClick:d},{default:l(()=>e[2]||(e[2]=[g("\uB85C\uADF8\uC778")])),_:1}),o(f,{color:"info"},{default:l(()=>e[3]||(e[3]=[g("\uD68C\uC6D0\uAC00\uC785")])),_:1})])])]),_:1})]),_:1})]),_:1}))}};export{A as default};
