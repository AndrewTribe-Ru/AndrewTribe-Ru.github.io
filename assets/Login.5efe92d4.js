import{d as C,u as I,c as h,r as m,o as k,e as v,w as l,f as o,g as n,Q as f,h as p,i as c,j as g,k as w}from"./index.4ce5e9c3.js";import{u as V,Q,a as S,b as q}from"./use-quasar.c0fd0a50.js";const A=C("user",{state:()=>({userInfo:{id:"",pw:"",role:""}}),actions:{setUserInfo(i){this.userInfo={},this.userInfo=i}},persist:{enabled:!0,strategies:[{key:"user",storage:localStorage}]}}),N={class:"q-pa-md flex flex-center column",style:{"max-width":"300px","text-align":"center"}},U={class:"q-gutter-y-md column",style:{"max-width":"300px"}},P={__name:"Login",setup(i){const x=V(),s=I();A();const y=h(),u=m(""),r=m(""),d=async()=>{w.post("/login",{mbrId:u.value,mbrPw:r.value}).then(t=>{console.log("login success : ",t);const{code:e}=t.data;if(e==200){const a=t.data.Authorization;a?(s.saveToken(a),s.saveUserInfo({mbrId:t.data.mbrId,courseCd:t.data.courseCd,mbrName:t.data.mbrName,msgrTypeCd:t.data.msgrTypeCd,authCd:t.data.authCd}),y.push("/index")):s.loginFailure()}else s.loginFailure()})},b=()=>{x.dialog({title:"\uC544\uC774\uB514/\uD328\uC2A4\uC6CC\uB4DC \uCC3E\uAE30",message:"\uAD00\uB9AC\uC790\uC5D0\uAC8C \uBB38\uC758\uD558\uC138\uC694",html:!0,ok:{label:"Yes",color:"primary"}})};return(t,e)=>(k(),v(Q,null,{default:l(()=>[o(q,null,{default:l(()=>[o(S,{class:"q-pa-xl flex flex-center"},{default:l(()=>[e[5]||(e[5]=n("section",{class:"q-mb-xl"},null,-1)),n("div",N,[e[4]||(e[4]=n("h6",null,"\uC548\uB155\uD558\uC138\uC694!",-1)),n("div",U,[o(f,{label:"ID",filled:"",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),onKeyup:p(d,["enter"])},null,8,["modelValue"]),o(f,{label:"PASSWORD",filled:"",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),type:"password",onKeyup:p(d,["enter"])},null,8,["modelValue"]),o(c,{color:"primary",onClick:d},{default:l(()=>e[2]||(e[2]=[g("\uB85C\uADF8\uC778")])),_:1}),o(c,{color:"info",onClick:b},{default:l(()=>e[3]||(e[3]=[g("\uC544\uC774\uB514/\uD328\uC2A4\uC6CC\uB4DC \uCC3E\uAE30")])),_:1})])])]),_:1})]),_:1})]),_:1}))}};export{P as default};
