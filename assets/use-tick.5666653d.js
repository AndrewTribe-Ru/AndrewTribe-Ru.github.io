import{r as v,X as m,H as $,k as b,ag as T,ah as D,ai as C,j as g,K as F,x as k,J as w,l as S}from"./index.17a483d5.js";import{b as P,c as q}from"./focus-manager.05708ea9.js";import{g as u,c as G}from"./QBtn.dab5c315.js";const c=[];function j(e,o){do{if(e.$options.name==="QMenu"){if(e.hide(o),e.$props.separateClosePopup===!0)return u(e)}else if(e.__qPortal===!0){const t=u(e);return t!==void 0&&t.$options.name==="QPopupProxy"?(e.hide(o),t):e}e=u(e)}while(e!=null)}function Q(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function y(e,o,t,a){const n=v(!1),s=v(!1);let r=null;const i={},f=a==="dialog"&&Q(e);function h(l){if(l===!0){P(i),s.value=!0;return}s.value=!1,n.value===!1&&(f===!1&&r===null&&(r=D(!1,a)),n.value=!0,c.push(e.proxy),q(i))}function d(l){if(s.value=!1,l!==!0)return;P(i),n.value=!1;const p=c.indexOf(e.proxy);p!==-1&&c.splice(p,1),r!==null&&(C(r),r=null)}return m(()=>{d(!0)}),e.proxy.__qPortal=!0,$(e.proxy,"contentEl",()=>o.value),{showPortal:h,hidePortal:d,portalIsActive:n,portalIsAccessible:s,renderPortal:()=>f===!0?t():n.value===!0?[b(T,{to:r},t())]:void 0}}const H={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function M(e,o=()=>{},t=()=>{}){return{transitionProps:g(()=>{const a=`q-transition--${e.transitionShow||o()}`,n=`q-transition--${e.transitionHide||t()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${n}-leave-from`,leaveActiveClass:`${n}-leave-active`,leaveToClass:`${n}-leave-to`}}),transitionStyle:g(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function N(){let e;const o=S();function t(){e=void 0}return F(t),k(t),{removeTick:t,registerTick(a){e=a,w(()=>{e===a&&(G(o)===!1&&e(),e=void 0)})}}}export{N as a,M as b,y as c,j as d,c as p,H as u};
