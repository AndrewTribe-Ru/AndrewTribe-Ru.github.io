import{aa as w,D as g,E as A,l as H,J as V,K as U,x as M,ab as T,ac as x}from"./index.17a483d5.js";import{v as P,c as R}from"./QBtn.dab5c315.js";function E(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),w.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const I={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},j=["beforeShow","show","beforeHide","hide"];function z({showing:e,canShow:o,hideOnRouteChange:u,handleShow:l,handleHide:r,processOnMount:S}){const f=H(),{props:n,emit:i,proxy:c}=f;let a;function h(t){e.value===!0?d(t):m(t)}function m(t){if(n.disable===!0||t!==void 0&&t.qAnchorHandled===!0||o!==void 0&&o(t)!==!0)return;const s=n["onUpdate:modelValue"]!==void 0;s===!0&&(i("update:modelValue",!0),a=t,V(()=>{a===t&&(a=void 0)})),(n.modelValue===null||s===!1)&&p(t)}function p(t){e.value!==!0&&(e.value=!0,i("beforeShow",t),l!==void 0?l(t):i("show",t))}function d(t){if(n.disable===!0)return;const s=n["onUpdate:modelValue"]!==void 0;s===!0&&(i("update:modelValue",!1),a=t,V(()=>{a===t&&(a=void 0)})),(n.modelValue===null||s===!1)&&v(t)}function v(t){e.value!==!1&&(e.value=!1,i("beforeHide",t),r!==void 0?r(t):i("hide",t))}function y(t){n.disable===!0&&t===!0?n["onUpdate:modelValue"]!==void 0&&i("update:modelValue",!1):t===!0!==e.value&&(t===!0?p:v)(a)}g(()=>n.modelValue,y),u!==void 0&&P(f)===!0&&g(()=>c.$route.fullPath,()=>{u.value===!0&&e.value===!0&&d()}),S===!0&&A(()=>{y(n.modelValue)});const b={show:m,hide:d,toggle:h};return Object.assign(c,b),b}function F(){let e=null;const o=H();function u(){e!==null&&(clearTimeout(e),e=null)}return U(u),M(u),{removeTimeout:u,registerTimeout(l,r){u(),R(o)===!1&&(e=setTimeout(l,r))}}}function k(e,o,u){let l;function r(){l!==void 0&&(T.remove(l),l=void 0)}return M(()=>{e.value===!0&&r()}),{removeFromHistory:r,addToHistory(){l={condition:()=>u.value===!0,handler:o},T.add(l)}}}function q(){let e;return{preventBodyScroll(o){o!==e&&(e!==void 0||o===!0)&&(e=o,x(o))}}}function C(e,o,u){return u<=o?o:Math.min(u,Math.max(o,e))}function J(e,o,u){if(u<=o)return o;const l=u-o+1;let r=o+(e-o)%l;return r<o&&(r=l+r),r===0?0:r}function K(e,o=2,u="0"){if(e==null)return e;const l=""+e;return l.length>=o?l:new Array(o-l.length+1).join(u)+l}export{j as a,F as b,z as c,k as d,q as e,C as f,E as g,J as n,K as p,I as u};
